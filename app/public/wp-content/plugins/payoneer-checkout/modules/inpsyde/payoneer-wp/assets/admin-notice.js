!function(){"use strict";var t={};function e(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function n(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){var a=t.apply(n,r);function s(t){e(a,o,i,s,c,"next",t)}function c(t){e(a,o,i,s,c,"throw",t)}s(void 0)})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var c=window.wp.apiFetch,u=t.n(c);function l(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return f(u,"_invoke",function(n,r,o){var i,s,c,u=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,s=0,c=t,p.n=n,a}};function y(n,r){for(s=n,c=r,e=0;!f&&u&&!o&&e<l.length;e++){var o,i=l[e],y=p.p,d=i[2];n>3?(o=d===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(s=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,d){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),s=l,c=d;(e=s<2?t:c)||!f;){i||(s?s<3?(s>1&&(p.n=-1),y(s,c)):p.n=c:p.v=c);try{if(u=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,s=1,c=e}finally{u=1}}return{value:e,done:f}}}(n,o,i),!0),u}var a={};function s(){}function c(){}function u(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(f(e={},r,function(){return this}),e),y=u.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,f(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return c.prototype=u,f(y,"constructor",u),f(u,"constructor",c),c.displayName="GeneratorFunction",f(u,o,"GeneratorFunction"),f(y),f(y,o,"Generator"),f(y,r,function(){return this}),f(y,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:d}})()}function f(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,e,n,r){function i(e,n){f(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},f(t,e,n,r)}var p={duration:200,easing:"ease-in-out",properties:["height","opacity","padding","margin"]},y=function(){return s(function t(){var e=this;r(this,t),"loading"!==document.readyState?this.setupNotices():document.addEventListener("DOMContentLoaded",function(){return e.setupNotices()})},[{key:"setupNotices",value:function(){var t=this;document.querySelectorAll(".notice.payoneer-notice").forEach(function(e){t.setupNotice(e)})}},{key:"setupNotice",value:function(t){this.isPayoneerNotice(t)&&t.classList.contains("is-dismissible")&&this.setupDismissibleNotice(t)}},{key:"isPayoneerNotice",value:function(t){var e;return null==t||null===(e=t.classList)||void 0===e?void 0:e.contains("payoneer-notice")}},{key:"setupDismissibleNotice",value:function(t){var e=this,n=t.querySelector(".notice-dismiss");n?(n.removeEventListener("click",this.handleDismissClick),n.addEventListener("click",function(n){return e.handleDismissClick(n,t)})):console.warn("Dismissible notice missing dismiss button:",t)}},{key:"handleDismissClick",value:(e=n(l().m(function t(e,n){var r,o,i;return l().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e.preventDefault(),r=this.extractDismissConfig(n)){t.n=1;break}return console.error("Invalid dismiss configuration for notice:",n),t.a(2);case 1:return(o=e.target).disabled=!0,t.p=2,t.n=3,this.dismissNotice(r.path,r.data);case 3:this.animateNoticeRemoval(n),t.n=5;break;case 4:t.p=4,i=t.v,console.error("Failed to dismiss notice:",i),o.disabled=!1;case 5:return t.a(2)}},t,this,[[2,4]])})),function(_x,t){return e.apply(this,arguments)})},{key:"extractDismissConfig",value:function(t){var e,n=t.dataset.dismissPath,r=t.dataset.dismissData;if(!n||!r)return null;try{e=JSON.parse(r)}catch(t){return console.error("Invalid dismiss data JSON:",r,t),null}return{path:n,data:e}}},{key:"dismissNotice",value:(t=n(l().m(function t(e,n){var r,o;return l().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,u()({path:e,method:"POST",data:n});case 1:if(null!=(r=t.v)&&r.success){t.n=2;break}throw new Error((null==r?void 0:r.message)||"Dismissal request failed");case 2:return t.a(2,r);case 3:throw t.p=3,o=t.v,console.error("API request failed:",o),o;case 4:return t.a(2)}},t,null,[[0,3]])})),function(e,n){return t.apply(this,arguments)})},{key:"animateNoticeRemoval",value:function(t){new d(t).fadeOut().then(function(){t.remove()})}}]);var t,e}(),d=function(){return s(function t(e){r(this,t),this.element=e},[{key:"fadeOut",value:(t=n(l().m(function t(){var e=this;return l().w(function(t){for(;;)if(0===t.n)return t.a(2,new Promise(function(t){var n=e.element,r=getComputedStyle(n),o=n.offsetHeight;e.setInitialStyles(n,r,o),n.offsetHeight,e.applyTransition(n),e.setFinalStyles(n),setTimeout(t,p.duration+20)}))},t)})),function(){return t.apply(this,arguments)})},{key:"setInitialStyles",value:function(t,e,n){t.style.height="".concat(n,"px"),t.style.opacity="1",t.style.paddingTop=e.paddingTop,t.style.paddingBottom=e.paddingBottom,t.style.marginTop=e.marginTop,t.style.marginBottom=e.marginBottom,t.style.overflow="hidden"}},{key:"applyTransition",value:function(t){var e=p.properties.join(" ".concat(p.duration,"ms ").concat(p.easing,", "));t.style.transition="".concat(e," ").concat(p.duration,"ms ").concat(p.easing)}},{key:"setFinalStyles",value:function(t){t.style.height="0",t.style.opacity="0",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.marginTop="0",t.style.marginBottom="0"}}]);var t}();new y}();